<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <h:body>
        <ui:composition template="/WEB-INF/template.xhtml" >

            <ui:define name="pageTitle">Hallinta</ui:define>

            <ui:define name="mainpage">
                <h:outputStylesheet library="css" name="control.css"/>

                <h1>#{msg.con_title}</h1>

                <h2>#{msg.con_title2}</h2>

                <h:form id="controlForm">
                    <p:panelMenu id="controlMenu" model="#{controlManagedBean.menuModel}"/>
                </h:form>

                <!-- Dialogs -->
                <p:dialog header="#{msg.con_newEGDlgHeader}"
                          widgetVar="dlgEventGroup"
                          position="top"
                          resizable="false"
                          responsive="true"
                          fitViewport="true"
                          styleClass="coloredButton">
                    <h:form styleClass="dialog-form ui-fluid">
                        <p:inputText id="input-name-eg"
                                     value="#{controlManagedBean.newEventGroup.label}"
                                     placeholder="#{msg.con_eventGroupName}"/>
                        <p:inputTextarea id="input-description-eg"
                                         value="#{controlManagedBean.newEventGroup.description}"
                                         placeholder="#{msg.con_eventGroupDescription}"
                                         rows="6" cols="33" autoResize="true" />
                        <p:commandButton value="#{msg.con_save}" icon="ui-icon-check"
                                         onclick="PF('dlgEventGroup').hide();"
                                         action="#{controlManagedBean.createNewEventGroup}"
                                         update=":controlForm:controlMenu"/>
                        <p:commandButton value="#{msg.con_cancel}" icon="ui-icon-close"
                                         onclick="PF('dlgEventGroup').hide();" />
                    </h:form>
                </p:dialog>

                <p:dialog header="#{msg.con_newEDlgHeader}"
                          widgetVar="dlgEvent"
                          position="top"
                          resizable="false"
                          responsive="true"
                          fitViewport="true"
                          styleClass="coloredButton">
                    <h:form id="dialog-newEvent" styleClass="ui-fluid">
                        <p:inputText id="input-name-event"
                                     value="#{controlManagedBean.newEvent.label}"
                                     placeholder="#{msg.con_eventName}"/>
                        <p:inputTextarea id="input-description-event"
                                         value="#{controlManagedBean.newEvent.description}"
                                         placeholder="#{msg.con_eventDescription}"
                                         rows="6" cols="33" autoResize="true" />
                        <p:commandButton value="#{msg.con_save}" icon="ui-icon-check"
                                         onclick="PF('dlgEvent').hide();"
                                         action="#{controlManagedBean.createNewEvent}"
                                         update=":controlForm:controlMenu"/>
                        <p:commandButton value="#{msg.con_cancel}" icon="ui-icon-close"
                                         onclick="PF('dlgEvent').hide();" />
                    </h:form>
                </p:dialog>

                <p:dialog header="#{msg.con_editEGDlgHeader}"
                          widgetVar="dlgEditEventGroup"
                          position="top"
                          resizable="false"
                          responsive="true"
                          fitViewport="true"
                          styleClass="coloredButton">
                    <h:form id="form-editEventGroup" styleClass="ui-fluid">
                        <p:inputText id="input-name-eg"
                                     value="#{controlManagedBean.selectedEventGroup.label}"
                                     placeholder="#{msg.con_eventGroupName}"/>
                        <p:inputTextarea id="input-description-eg"
                                         value="#{controlManagedBean.selectedEventGroup.description}"
                                         placeholder="#{msg.con_eventGroupDescription}"
                                         rows="6" cols="33" autoResize="true" />
                        <p:commandButton value="#{msg.con_save}" icon="ui-icon-check"
                                         onclick="PF('dlgEditEventGroup').hide();"
                                         action="#{controlManagedBean.editEventGroup}"
                                         update=":controlForm:controlMenu"/>
                        <p:commandButton value="#{msg.con_cancel}" icon="ui-icon-close"
                                         onclick="PF('dlgEditEventGroup').hide();" />
                    </h:form>
                </p:dialog>

                <p:dialog header="#{msg.con_editEDlgHeader}"
                          widgetVar="dlgEditEvent"
                          position="top"
                          resizable="false"
                          responsive="true"
                          fitViewport="true"
                          styleClass="coloredButton">
                    <h:form id="form-editEvent" styleClass="ui-fluid">
                        <p:inputText id="input-name-event"
                                     value="#{controlManagedBean.selectedEvent.label}"
                                     placeholder="#{msg.con_eventName}"/>
                        <p:inputTextarea id="input-description-event"
                                         value="#{controlManagedBean.selectedEvent.description}"
                                         placeholder="#{msg.con_eventDescription}"
                                         rows="6" cols="33" autoResize="true" />
                        <p:commandButton value="#{msg.con_save}" icon="ui-icon-check"
                                         onclick="PF('dlgEditEvent').hide();"
                                         action="#{controlManagedBean.editEvent}"
                                         update=":controlForm:controlMenu"/>
                        <p:commandButton value="#{msg.con_cancel}" icon="ui-icon-close"
                                         onclick="PF('dlgEditEvent').hide();" />
                    </h:form>
                </p:dialog>
            </ui:define>
        </ui:composition>
    </h:body>
</html>
