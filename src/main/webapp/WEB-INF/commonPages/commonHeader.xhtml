<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://xmlns.jcp.org/jsf/core">

    <body>
        <ui:composition>
            <h:form>
                <p:menubar styleClass="naviHeader" autoDisplay="false" >
                    <f:facet name="options">
                        <h:outputText value="Moveatis" styleClass="facetLeft"/>
                    </f:facet>

                    <p:submenu icon="fa fa-floppy-o">
                        <p:menuitem value="#{msg.head_save}" icon="fa fa-cloud-upload" url="#" class="coloredButton" onclick="PF('dlgSave').show();"/>
                        <p:menuitem value="#{msg.head_send}" icon="fa fa-envelope" url="#" class="coloredButton" onclick="PF('dlgMail').show();"/>
                    </p:submenu>


                    <p:submenu icon="fa fa-user" rendered="#{sessionBean.identifiedUser}">
                        <p:menuitem value="#{msg.head_controlPage}" icon="fa fa-sitemap" url="/app/control/index.xhtml" class="coloredButton"/>
                        <p:menuitem value="#{msg.head_superuserPage}" icon="fa fa-group" url="/app/superuser/index.xhtml" class="coloredButton"/>
                        <p:menuitem value="#{msg.head_logout}" icon="fa fa-sign-out"
                                    actionListener="#{logoutBean.logOut}"  class="coloredButton"/>
                    </p:submenu>

                    <p:submenu icon="fa fa-lock" rendered="#{!sessionBean.identifiedUser}">
                        <p:menuitem value="#{msg.head_login}" icon="fa fa-sign-in"  onclick="PF('dlgLogin').show();" class="coloredButton"/>
                    </p:submenu>

                    <p:submenu icon="fa fa-cogs">
                        <p:menuitem value="#{msg.head_info}" icon="fa fa-info" url="/app/info/index.xhtml" class="coloredButton"/>
                        <p:submenu label="#{msg.head_langSet}" icon="fa fa-language" class="coloredButton">
                            <p:menuitem value="#{msg.head_langFi}" icon="fa fa-flag-o" class="coloredButton" />
                            <p:menuitem value="#{msg.head_langEn}" icon="fa fa-flag-checkered" class="coloredButton"/>
                        </p:submenu>
                        <p:menuitem value="#{msg.head_resetObs}" icon="fa fa-eraser" url="/index.xhtml" class="coloredButton"/>
                        <p:menuitem value="#{msg.head_backToCatEd}" icon="fa fa-edit" url="/index.xhtml" class="coloredButton"/>
                        <p:menuitem value="#{msg.head_toFrontPage}" icon="fa fa-rotate-left" url="/index.xhtml" class="coloredButton"/>

                    </p:submenu>
                </p:menubar>
            </h:form>

            <p:dialog header="#{msg.head_loginTitle}" widgetVar="dlgLogin" minHeight="80" position="top"
                      draggable="false" resizable="false" responsive="true" modal="true" fitViewport="true"
                      class="coloredButton">
                <h:form class="ui-fluid">
                    <p:inputText id="userName" autocomplete="off" value="#{identityProviderLoginBean.userName}" placeholder="#{msg.head_userName}" required="true"/>
                    <p:password id="password" autocomplete="off" value="#{identityProviderLoginBean.password}" placeholder="#{msg.head_password}" required="true"/>
                    <p:commandButton icon="ui-icon-check" value="#{msg.head_login}" action="#{identityProviderLoginBean.doIdentityProviderLogin()}" onclick="PF('dlgLogin').hide();"/>
                </h:form>
            </p:dialog>
        </ui:composition>
    </body>
</html>
